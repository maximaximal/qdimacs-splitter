# (Q)DIMACS Splitter

A small splitting utility to ingest `.dimacs` and `.qdimacs` files and
print out many split formula files with applied assumptions. Splits
from the beginning by default and sets universally quantified
variables to existentially quantified variables if required.

## Rationale

This produces $2^d$ files, with $d$ being the splitting depth. It
splits along the quantifier prefix. This helps developing new
splitting techniques and to compute the theoretical maximum speedup
that could be gathered by splitting.

## Building

``` bash
cargo build -r
```

## Splitting

``` bash
# Splitting with some splitting depth d:
./target/release/qdimacs_splitter --split <file> --depth <depth>

# Verbose output:
./target/release/qdimacs_splitter --split <file> --depth <depth> --verbose
```

## Merging

Merging requires the original file provided through `--orig`, the job
name (usually which solver was used) `--name` and the splitting depth
that was used in the splitting step through `--depth`. It reads
results files from the current working directory. It can also take a
different working directory using `-w`.

The tool expects filenames of the pattern `<name>-<id>:<orig>`, e.g.
`kissat-0:test.dimacs`. In order for time-tracking to work, it
requires results similar to the output of
[runlim](http://fmv.jku.at/runlim/). This format combination is
achieved by just running [Simsala's](http://simsala.pages.sai.jku.at/)
submit.pl script over a set of problem files that was generated by the
splitting step above.

## Removing the Int-Split Prefix

In order to remove the int-split header, you can use the following
`sed` one-liner:

``` bash
sed -n '/^p cnf.*/,$p' <input-file>
```

This removes everything until it encounters the problem line, making
it suitable for all kinds of experiments.
